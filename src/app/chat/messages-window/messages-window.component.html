<div class="container" fxLayout="column" fxLayoutAlign="end" fxLayoutJustify="stretch">

  <div class="message-buffer"
       fxLayout="column"
       fxLayoutJustify="stretch"
       #chatBuffer>

    <ng-container *ngIf="boundChat">

      <div *ngFor="let msg of boundChat.messages; let i = index; let count = count;">
        <div class="message-sender" *ngIf="i == 0 || boundChat.messages[i - 1].sender !== msg.sender">
          <span [innerHTML]="msg.sender"></span>
        </div>
        <span class="message-body" [innerHTML]="msg.message | enrichMessage | async"></span>
      </div>

    </ng-container>

  </div>

</div>
