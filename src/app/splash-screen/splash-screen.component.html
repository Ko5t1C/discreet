<div fxLayout="column" fxLayoutAlign="center center" class="page dark-theme mat-app-background">

  <mat-card class="content mat-elevation-z20" fxLayout="column" fxLayoutAlign="center center">
    <h1>Discreet&nbsp;<mat-icon color="accent">chat_bubble</mat-icon></h1>
    <div style="display: block">
      <mat-form-field>
        <mat-label>Server</mat-label>
        <mat-select (selectionChange)="onServerSelectChange($event)"
                    required #server="ngModel"
                    [(ngModel)]="serverId">
          <mat-option *ngFor="let server of ircClientService.serverList | callback: filterCallback" [value]="server.id">
            {{server.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div style="display: block">
      <mat-form-field>
        <input matInput placeholder="Scegli un nome"
               required
               maxlength="30"
               pattern="^[A-Za-z_\-\[\]\\^{}|`][A-Za-z0-9_\-\[\]\\^{}|`]{2,29}$"
               #nickname="ngModel"
               [(ngModel)]="nick">
        <mat-error *ngIf="nickname.value && nickname.value.length >= 3 && nickname.invalid">
          Caratteri non consentiti.
        </mat-error>
        <mat-error *ngIf="nickname.value && nickname.value.length < 3">
          Inserire almeno 3 caratteri.
        </mat-error>
      </mat-form-field>
      <div>
        <mat-checkbox #registered style="margin-top: 16px;">Utente registrato</mat-checkbox>
      </div>
      <mat-form-field *ngIf="registered.checked">
        <input matInput type="password" placeholder="Password"
               #nickpass="ngModel"
               [(ngModel)]="password">
      </mat-form-field>
    </div>
    <div style="text-align: center">
      <button mat-raised-button
              color="primary"
              (click)="onConnectClick()"
              [disabled]="nickname.invalid || server.invalid">Entra in Chat</button>
    </div>
  </mat-card>
</div>
